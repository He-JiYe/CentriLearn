# configs/dqn.yaml

algorithm:
  type: DQN
  model:
    type: Qnet
    backbone_cfg:
      type: GraphSAGE
      in_channels: 2
      hidden_channels: 64
      num_layers: 3
    q_head_cfg:
      type: QHead
      in_channels: 128
  optimizer_cfg:
    type: Adam
    lr: 0.0001
    weight_decay: 0.0005
  replaybuffer_cfg:
    type: ReplayBuffer
    capacity: 10000
    n_step: 5
    prioritized: False
  metric_manager_cfg:
    save_dir: ./logs/metrics
    log_interval: 10
    metrics:
      - type: AUC
        record: min
      - type: AttackRate
        record: min
  algo_cfg:
    gamma: 0.99
    epsilon_start: 1.0
    epsilon_end: 0.01
    epsilon_decay: 10000
    tau: 0.005
  device: cuda

environment:
  type: NetworkDismantlingEnv
  node_features: combin
  synth_type: ba
  synth_args:
    min_n: 30
    max_n: 50
    m: 4
  is_undirected: True
  value_type: ar
  use_gcc: False
  use_component: False
  device: cuda

training:
  num_episodes: 1000
  batch_size: 32
  max_steps: 1000
  log_interval: 10
  eval_interval: 1000
  eval_episodes: 1
  save_path: ./checkpoints/dqn
  save_interval: 100
